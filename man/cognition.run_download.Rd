% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cognition.run.R
\name{cognition.run_download}
\alias{cognition.run_download}
\title{Download a Cognition.run task export}
\usage{
cognition.run_download(session, task, outdir)
}
\arguments{
\item{session}{A \code{ChromoteSession} object returned by
\code{\link{cognition.run_login}}.}

\item{task}{Character. The Cognition.run task ID (the value appearing in the
task URL).}

\item{outdir}{Character. Path to the directory where the downloaded file
should be saved.}
}
\value{
(Invisibly) A character string containing the normalized expected
filename prefix used by Cognition.run for the export.
}
\description{
Navigates to a Cognition.run taskâ€™s download page using an authenticated
Chromote session, determines the expected filename prefix, removes any
existing matching files in the output directory, and programmatically
triggers the download.
}
\details{
The function:
\enumerate{
\item Navigates to the task download page and waits for it to load.
\item Extracts the export filename header from the navigation bar.
\item Normalizes the filename (lowercase, underscores to hyphens).
\item Removes any existing file in \code{outdir} that matches this prefix
(to avoid collisions with stale exports).
\item Enables Chrome download behavior and clicks the "Download" button.
}

The actual downloaded file will appear in \code{outdir} according to the
naming conventions of Cognition.run.
}
\examples{
\dontrun{
session <- cognition.run_login("user@example.com", "mypassword")
cognition.run_download(session, task = 10234, outdir = "data/")
}

}
